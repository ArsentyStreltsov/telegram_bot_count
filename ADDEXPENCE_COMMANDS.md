# Команды для добавления расходов за других людей

## Обзор

Добавлены две новые команды для добавления расходов за других людей:

1. `/addexpence` - простая команда с автоматическим разделением по категориям
2. `/addexpence_advanced` - расширенная команда с возможностью выбора участников

## Команда `/addexpence`

### Синтаксис
```
/addexpence валюта сумма категория имя_плательщика [описание]
```

### Параметры
- **валюта**: SEK, EUR, RUB
- **сумма**: положительное число (например: 110.50)
- **категория**: продукты, алкоголь, другое
- **имя_плательщика**: дима, катя, сеня, даша, миша
- **описание**: обязательное для категории "другое"

### Примеры
```
/addexpence EUR 110 продукты дима
/addexpence EUR 110 другое еда на заправке дима
/addexpence SEK 500 алкоголь катя
```

### Логика разделения
- **Продукты**: разделяется между всеми участниками
- **Алкоголь**: разделяется между всеми участниками
- **Другое**: разделяется между всеми участниками

## Команда `/addexpence_advanced`

### Синтаксис
```
/addexpence_advanced валюта сумма категория имя_плательщика участники [описание]
```

### Параметры
- **валюта**: SEK, EUR, RUB
- **сумма**: положительное число (например: 110.50)
- **категория**: продукты, алкоголь, другое
- **имя_плательщика**: дима, катя, сеня, даша, миша
- **участники**: список имен через запятую (минимум 2 человека)
- **описание**: обязательное для категории "другое"

### Примеры
```
/addexpence_advanced EUR 110 продукты дима дима,катя
/addexpence_advanced EUR 110 другое еда на заправке дима дима,сеня,даша
/addexpence_advanced SEK 500 алкоголь катя катя,миша
```

### Ограничения
- Минимум 2 участника
- Участники должны быть из разных групп:
  - Группа 1: Даша + Сеня
  - Группа 2: Дима + Катя + Миша
- Нельзя выбрать только участников из одной группы

## Маппинг имен на Telegram ID

| Имя  | Telegram ID |
|------|-------------|
| дима | 350653235   |
| катя | 252901018   |
| сеня | 804085588   |
| даша | 916228993   |
| миша | 6379711500  |

## Группы участников

### Группа 1 (Даша + Сеня)
- Telegram ID: 804085588, 916228993

### Группа 2 (Дима + Катя + Миша)
- Telegram ID: 252901018, 350653235, 6379711500

## Обработка ошибок

Команды проверяют:
- Корректность валюты
- Корректность суммы
- Корректность категории
- Корректность имен участников
- Наличие описания для категории "другое"
- Минимальное количество участников (для advanced команды)
- Разнообразие групп участников (для advanced команды)

## Интеграция с существующей системой

- Использует существующую систему разделения расходов
- Интегрируется с `ExpenseService` и `FlexibleSplitService`
- Сохраняет расходы в базу данных с правильными связями
- Поддерживает все существующие валюты и категории
